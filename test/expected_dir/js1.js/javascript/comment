/*  Prototype JavaScript framework, version 1.4.0
*  (c) 2005 Sam Stephenson <sam@conio.net>
*
*  Prototype is freely distributable under the terms of an MIT-style license.
*  For details, see the Prototype web site: http://prototype.conio.net/
*
/*--------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------*/
/* Force "Connection: close" for Mozilla browsers to work around
* a bug where XMLHttpReqeuest sends an incorrect Content-length
* header. See Mozilla Bugzilla #246651.
*/
/* Avoid memory leak in MSIE: clean up the oncomplete event handler */
/*--------------------------------------------------------------------------*/
// removes whitespace-only text node children
// All *Width and *Height properties give 0 on elements with display none,
// so enable the element temporarily
// Opera returns the offset relative to the positioning context, when an
// element is position relative but top and left have not been defined
/*--------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------*/
/*--------------------------------------------------------------------------*/
// find the first node with the given tagName, starting from the
// node the event was triggered on; traverses the DOM upwards
/* prevent memory leaks in IE */
// set to true if needed, warning: firefox performance problems
// NOT neeeded for page scrolling, only if draggable contained in
// scrollable elements
// must be called before calling withinIncludingScrolloffset, every time the
// page is scrolled
// caches x/y coordinate pair to use with overlap
// within must be called directly before
// Safari fix
// find page position of source
// find coordinate system to use
// delta [0,0] will do fine with position: fixed elements,
// position:absolute needs offsetParent deltas
// correct by body offsets (fixes Safari)
// set position
// Safari returns margins on body which is incorrect if the child is absolutely
// positioned.  For performance reasons, redefine Position.cumulativeOffset for
// KHTML/WebKit only.
